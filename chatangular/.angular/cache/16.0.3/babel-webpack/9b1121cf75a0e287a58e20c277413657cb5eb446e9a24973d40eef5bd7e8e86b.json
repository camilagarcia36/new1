{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./socket.service\";\nclass ChatService {\n  constructor(socket) {\n    this.socket = socket;\n    this.chats = [];\n    this.onReceiveMessage(); // Descomenta esta línea para habilitar la recepción de mensajes\n  }\n\n  sendMessage(messageInfo) {\n    this.chats.push(messageInfo);\n    this.socket.io.emit(\"sendMessage\", messageInfo);\n    console.log(messageInfo);\n  }\n  onReceiveMessage() {\n    this.socket.io.on(\"recieveMessage\", messageInfo => {\n      messageInfo.messageType = 2;\n      console.log(messageInfo.messageType);\n      this.chats.push(messageInfo);\n      console.log(messageInfo);\n    });\n  }\n}\nChatService.ɵfac = function ChatService_Factory(t) {\n  return new (t || ChatService)(i0.ɵɵinject(i1.SocketService));\n};\nChatService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ChatService,\n  factory: ChatService.ɵfac,\n  providedIn: 'root'\n});\nexport { ChatService };","map":{"version":3,"names":["ChatService","constructor","socket","chats","onReceiveMessage","sendMessage","messageInfo","push","io","emit","console","log","on","messageType","i0","ɵɵinject","i1","SocketService","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Admin\\git\\new1\\chatangular\\src\\app\\services\\chat.service.ts"],"sourcesContent":["import { SocketService } from './socket.service';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n\r\n\r\nexport class ChatService {\r\n  chats:any=[];\r\n   constructor(private socket: SocketService) {\r\n    this.onReceiveMessage(); // Descomenta esta línea para habilitar la recepción de mensajes\r\n  }\r\n\r\n\r\n  sendMessage(messageInfo: any) {\r\n    this.chats.push(messageInfo);\r\n    this.socket.io.emit(\"sendMessage\", messageInfo);\r\n    console.log(messageInfo);\r\n  }\r\n\r\n  onReceiveMessage(){\r\n    this.socket.io.on(\"recieveMessage\", (messageInfo)=>{\r\n      messageInfo.messageType = 2;\r\n      console.log(messageInfo.messageType);\r\n      this.chats.push(messageInfo);\r\n      console.log(messageInfo);\r\n    });\r\n  }\r\n}\r\n"],"mappings":";;AAGA,MAMaA,WAAW;EAErBC,YAAoBC,MAAqB;IAArB,KAAAA,MAAM,GAANA,MAAM;IAD3B,KAAAC,KAAK,GAAK,EAAE;IAEV,IAAI,CAACC,gBAAgB,EAAE,CAAC,CAAC;EAC3B;;EAGAC,WAAWA,CAACC,WAAgB;IAC1B,IAAI,CAACH,KAAK,CAACI,IAAI,CAACD,WAAW,CAAC;IAC5B,IAAI,CAACJ,MAAM,CAACM,EAAE,CAACC,IAAI,CAAC,aAAa,EAAEH,WAAW,CAAC;IAC/CI,OAAO,CAACC,GAAG,CAACL,WAAW,CAAC;EAC1B;EAEAF,gBAAgBA,CAAA;IACd,IAAI,CAACF,MAAM,CAACM,EAAE,CAACI,EAAE,CAAC,gBAAgB,EAAGN,WAAW,IAAG;MACjDA,WAAW,CAACO,WAAW,GAAG,CAAC;MAC3BH,OAAO,CAACC,GAAG,CAACL,WAAW,CAACO,WAAW,CAAC;MACpC,IAAI,CAACV,KAAK,CAACI,IAAI,CAACD,WAAW,CAAC;MAC5BI,OAAO,CAACC,GAAG,CAACL,WAAW,CAAC;IAC1B,CAAC,CAAC;EACJ;;AApBWN,WAAW,C;mBAAXA,WAAW,EAAAc,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,aAAA;AAAA;AAAXjB,WAAW,C;SAAXA,WAAW;EAAAkB,OAAA,EAAXlB,WAAW,CAAAmB,IAAA;EAAAC,UAAA,EALV;AAAM;SAKPpB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}